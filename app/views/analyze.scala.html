@(energySeries: List[(Date, Double)], proteinSeries: List[(Date, Double)], fatSeries: List[(Date, Double)], carbsSeries: List[(Date, Double)])

@import helper._
@import helper.twitterBootstrap2._
@import helper.twitterBootstrap2.Bootstrap2Helpers._
@import models.Date

@main(Html("Superbeefcake!")) {
	@bs2Row() {
		@bs2Span(3, Some(1)) {
			<h4>Energy (Average: @{(energySeries.map{entry => entry._2}.foldLeft(0.0){_+_} / energySeries.length).toInt} kCal/day)</h4>
			<div id="energy-placeholder" style="width: 300px; height: 250px; position: relative; "></div>
			<script type="text/javascript" charset="utf-8">
				$(function () {
						var energy = [@{energySeries.sortWith{(a, b) => a._1.toLong < b._1.toLong}.map{entry=> "[" + entry._1.toLong.toString + ", " + entry._2 + "]"}.mkString(", ")}];
					
						$.plot($("#energy-placeholder"), [ energy ], {xaxis: {mode: "time", show: true, position: "bottom"}});
				});
			</script>
		}
		@bs2Span(3, Some(1)) {
			<h4>Protein (Average: @{(proteinSeries.map{entry => entry._2}.foldLeft(0.0){_+_} / proteinSeries.length).toInt} g/day)</h4>
			<div id="protein-placeholder" style="width: 300px; height: 250px; position: relative; "></div>
			<script type="text/javascript" charset="utf-8">
				$(function () {
						var protein = [@{proteinSeries.sortWith{(a, b) => a._1.toLong < b._1.toLong}.map{entry=> "[" + entry._1.toLong.toString + ", " + entry._2 + "]"}.mkString(", ")}];
					
						$.plot($("#protein-placeholder"), [ protein ], {xaxis: {mode: "time", show: true, position: "bottom"}});
				});
			</script>
		}
	}
	@bs2Row() {
		@bs2Span(3, Some(1)) {
			<h4>Fat (Average: @{(fatSeries.map{entry => entry._2}.foldLeft(0.0){_+_} / fatSeries.length).toInt} g/day)</h4>
			<div id="fat-placeholder" style="width: 300px; height: 250px; position: relative; "></div>
			<script type="text/javascript" charset="utf-8">
				$(function () {
						var fat = [@{fatSeries.sortWith{(a, b) => a._1.toLong < b._1.toLong}.map{entry=> "[" + entry._1.toLong.toString + ", " + entry._2 + "]"}.mkString(", ")}];
					
						$.plot($("#fat-placeholder"), [ fat ], {xaxis: {mode: "time", show: true, position: "bottom"}});
				});
			</script>
		}
		@bs2Span(3, Some(1)) {
			<h4>Carbs (Average: @{(carbsSeries.map{entry => entry._2}.foldLeft(0.0){_+_} / carbsSeries.length).toInt} g/day)</h4>
			<div id="carbs-placeholder" style="width: 300px; height: 250px; position: relative; "></div>
			<script type="text/javascript" charset="utf-8">
				$(function () {
						var carbs = [@{carbsSeries.sortWith{(a, b) => a._1.toLong < b._1.toLong}.map{entry=> "[" + entry._1.toLong.toString + ", " + entry._2 + "]"}.mkString(", ")}];
					
						$.plot($("#carbs-placeholder"), [ carbs ], {xaxis: {mode: "time", show: true, position: "bottom"}});
				});
			</script>
		}
	}

	<script type="text/javascript" charset="utf-8">
		$(function(){
			// select the navbar link for this view as active
			$("#analyze-nav-link").closest("li").addClass("active");
		});
	</script>
}
